(function(b){function k(){$("#header-icons").removeClass("hide")}function r(){$("#header-wrapper").addClass("qr-collapse-navbar");$("li.feedback, li.t-user").remove();$(".subscribe-button").click(function(){x()});$(".sub-sec").removeClass("hide");$(".start-free").removeClass("hide");k()}function t(){$("div.share").unstick();768>b.innerWidth?$("div.share").sticky({topSpacing:71}):$("div.share").sticky({topSpacing:96})}function y(){var a=$("#post").length;$("#side-menu-toggle").click(function(){$("#wrap").toggleClass("menu-open")});
a&&(z(),t(),$(b).resize(function(){t()}));var f=$("#header .navbar-collapse");$("#menu-toggle").click(function(){var a=f.hasClass("in");f[a?"removeClass":"addClass"]("in");$(this)[a?"removeClass":"addClass"]("open");$(".qr-collapse-navbar")[a?"removeClass":"addClass"]("navbar-fixed-bottom")});var g=0,e=!1,h=$("header"),c=browser.firefox?"DOMMouseScroll":"mousewheel";$("body").bind(c,function(a){a=b.event||a;a=a.originalEvent?a.originalEvent:a;a=a.detail?-40*a.detail:a.wheelDelta;0<a?(g+=a,!e&&750<
g&&(e=!0,h.addClass("hightlight-signup"))):(g=0,e&&(e=!1,h.removeClass("hightlight-signup")))});$(".fa-twitter").attr("href",$(".share > .twitter").attr("href"));a&&$(".share a").click(function(a){var f=b.open(a.currentTarget.href,"_blank","scrollbars=yes, width=700, height=600, top="+((b.innerHeight?b.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-300+(void 0!=b.screenTop?b.screenTop:screen.top))+", left="+((b.innerWidth?b.innerWidth:document.documentElement.clientWidth?
document.documentElement.clientWidth:screen.width)/2-350+(void 0!=b.screenLeft?b.screenLeft:screen.left)));b.focus&&f.focus();a.preventDefault()})}function A(a){$(a.parentNode).removeClass("has-error");clearTooltip()}function u(a,b){$(".subscribe-info").html('<div class="subscribe-sub-title">'+a+'</div><div class="subscribe-sub-title"><b>'+b+"</b></div>")}function x(){A($("#email-input"));$(".subscribe-button").attr("disabled",!0);sendQS(["subt",[$("#email-input").val(),1]],function(a){if(a){var b=
$("#email-input"),g=void 0;$(b.parentNode).addClass("has-error");g=$.extend({placement:"top",clz:"error"},g);showTooltip(b,a,g)}else v?u("Hi there!It seems like you have already signed up with",$("#email-input").val()):u("Thanks! You're subscribed.",$("#email-input").val());$(".subscribe-button").attr("disabled",!1)},function(){$(".subscribe-button").attr("disabled",!1)})}function w(){"browser"in b?(sendQS(["curusr",null],function(a){if(a){var f=$(".t-user"),g=a.id,e=a.name,h=a.initials,c=readS3()(a.image);
a=a.iconColor;v=!0;$("#header-wrapper").addClass("qr-collapse-navbar");f.find(".dropdown-header").text(e);f.find(".user-icon-wrapper").append(""!=c?$('<img class="img-icon x30 circle" src="'+c+'" alt="'+e+'">'):$('<div class="img-icon x30 circle bg iconc-'+a+'">'+h+"</div>")).attr("href","/u/"+g+"#");f.find(".icon-user-o").parent().attr("href","/u/"+g);$("li.start-free, li.login").remove();$(".go-to-project").removeClass("hide");$("body").addClass("logged-in");f.removeClass("hide");k();void 0!==b.initPlugin&&
b.initPlugin(!0)}else r(),void 0!==b.initPlugin&&b.initPlugin(!1)},function(){r();k();void 0!==b.initPlugin&&b.initPlugin(!1)}),y()):setTimeout(w,15)}function n(){var a=$("body"),b=a.hasClass("open-search");a.toggleClass("open-search",!b);b?$(".search-input").val(""):setTimeout(function(){$(".search-input").focus()})}function p(a){$("body").toggleClass("searching",a)}function z(){var a={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",
responsiveWidth:!1},f=$(b),g=$(document),e=[],h=f.height(),c=function(){for(var a=f.scrollTop(),b=g.height(),m=b-h,m=a>m?m-a:0,q=0;q<e.length;q++){var d=e[q],c=d.stickyWrapper.offset().top-d.topSpacing-m;a<=c?null!==d.currentTop&&(d.stickyElement.css("position","").css("top",""),d.stickyElement.trigger("sticky-end",[d]).parent().removeClass(d.className),d.currentTop=null):(c=b-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-a-m,c=0>c?c+d.topSpacing:d.topSpacing,d.currentTop!=c&&(d.stickyElement.css("position",
"fixed").css("top",c),"undefined"!==typeof d.getWidthFrom&&d.stickyElement.css("width",$(d.getWidthFrom).width()),d.stickyElement.trigger("sticky-start",[d]).parent().addClass(d.className),d.currentTop=c))}},k=function(){h=f.height();for(var a=0;a<e.length;a++){var b=e[a];"undefined"!==typeof b.getWidthFrom&&!0===b.responsiveWidth&&b.stickyElement.css("width",$(b.getWidthFrom).width())}},l={init:function(b){var c=$.extend({},a,b);return this.each(function(){var a=$(this),b=a.attr("id"),b=$("<div></div>").attr("id",
b+"-sticky-wrapper").addClass(c.wrapperClassName);a.wrapAll(b);c.center&&a.parent().css({width:a.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"==a.css("float")&&a.css({"float":"none"}).parent().css({"float":"right"});b=a.parent();b.css("height",a.outerHeight());e.push({topSpacing:c.topSpacing,bottomSpacing:c.bottomSpacing,stickyElement:a,currentTop:null,stickyWrapper:b,className:c.className,getWidthFrom:c.getWidthFrom,responsiveWidth:c.responsiveWidth})})},update:c,unstick:function(a){return this.each(function(){for(var a=
$(this),b=-1,c=0;c<e.length;c++)e[c].stickyElement.get(0)==a.get(0)&&(b=c);-1!=b&&(e.splice(b,1),a.unwrap(),a.removeAttr("style"))})}};b.addEventListener?(b.addEventListener("scroll",c,!1),b.addEventListener("resize",k,!1)):b.attachEvent&&(b.attachEvent("onscroll",c),b.attachEvent("onresize",k));$.fn.sticky=function(a){if(l[a])return l[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)$.error("Method "+a+" does not exist on jQuery.sticky");else return l.init.apply(this,
arguments)};$.fn.unstick=function(a){if(l[a])return l[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)$.error("Method "+a+" does not exist on jQuery.sticky");else return l.unstick.apply(this,arguments)};$(function(){setTimeout(c,0)})}var v=!1;w();$(".search-toggle a").click(n);$(".search-close").click(n);$(".search-input").keyup(function(a){$(this).change();27==a.keyCode&&n()}).change(function(){p(0<$(this).val().length)}).focus(function(){p(0<$(this).val().length)});
$(document).on("click",function(){p(!1)}).on("click","#results, .search-input",function(a){a.stopPropagation()})})(window);
