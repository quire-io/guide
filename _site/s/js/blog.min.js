(function(a){function p(){$("#header-icons").removeClass("hide")}function r(){$("#header-wrapper").addClass("qr-collapse-navbar");$("li.feedback, li.t-user").remove();$("#home").attr("href","/");p()}function t(){1180>a.innerWidth?n&&(n=!1,$("div.share").unstick()):n||(n=!0,$("div.share").sticky({topSpacing:75}))}function v(){var l=$("#post").length;$("#side-menu-toggle").click(function(){$("#wrap").toggleClass("menu-open")});l&&(w(),t(),$(a).resize(function(){t()}));var h=$("#header .navbar-collapse");
$("#menu-toggle").click(function(){var b=h.hasClass("in");h[b?"removeClass":"addClass"]("in");$(this)[b?"removeClass":"addClass"]("open");$(".qr-collapse-navbar")[b?"removeClass":"addClass"]("navbar-fixed-bottom")});var f=0,e=!1,g=$("header"),c=browser.firefox?"DOMMouseScroll":"mousewheel";$("body").bind(c,function(b){b=a.event||b;b=b.originalEvent?b.originalEvent:b;b=b.detail?-40*b.detail:b.wheelDelta;0<b?(f+=b,!e&&750<f&&(e=!0,g.addClass("hightlight-signup"))):(f=0,e&&(e=!1,g.removeClass("hightlight-signup")))});
$(".fa-twitter").attr("href",$(".share > .twitter").attr("href"));l&&$(".share a").click(function(b){var e=a.open(b.currentTarget.href,"_blank","scrollbars=yes, width=700, height=600, top="+((a.innerHeight?a.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-300+(void 0!=a.screenTop?a.screenTop:screen.top))+", left="+((a.innerWidth?a.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-350+(void 0!=
a.screenLeft?a.screenLeft:screen.left)));a.focus&&e.focus();b.preventDefault()})}function u(){if("browser"in a){try{sendQS(["curusr",null],function(a){if(a){var f=$(".t-user"),e=a.id,g=a.name,c=a.initials,b=a.image;a=a.iconColor;f.find(".dropdown-header").text(g);f.find(".user-icon-wrapper").append(""!=b?$('<img class="img-icon x30 circle" src="'+b+'" alt="'+g+'">'):$('<div class="img-icon x30 circle bg iconc-'+a+'">'+c+"</div>")).attr("href","/u/"+e+"#");f.find(".icon-user-o").parent().attr("href",
"/u/"+e);$("li.start-free, li.login").remove();$("#home").attr("href","/w");f.removeClass("hide");p()}else r()})}catch(l){r(),p()}v()}else setTimeout(u,15)}function w(){var l={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",responsiveWidth:!1},h=$(a),f=$(document),e=[],g=h.height(),c=function(){for(var a=h.scrollTop(),b=f.height(),m=b-g,m=a>m?m-a:0,q=0;q<e.length;q++){var d=e[q],c=d.stickyWrapper.offset().top-d.topSpacing-m;a<=c?null!==
d.currentTop&&(d.stickyElement.css("position","").css("top",""),d.stickyElement.trigger("sticky-end",[d]).parent().removeClass(d.className),d.currentTop=null):(c=b-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-a-m,c=0>c?c+d.topSpacing:d.topSpacing,d.currentTop!=c&&(d.stickyElement.css("position","fixed").css("top",c),"undefined"!==typeof d.getWidthFrom&&d.stickyElement.css("width",$(d.getWidthFrom).width()),d.stickyElement.trigger("sticky-start",[d]).parent().addClass(d.className),d.currentTop=
c))}},b=function(){g=h.height();for(var a=0;a<e.length;a++){var b=e[a];"undefined"!==typeof b.getWidthFrom&&!0===b.responsiveWidth&&b.stickyElement.css("width",$(b.getWidthFrom).width())}},k={init:function(a){var b=$.extend({},l,a);return this.each(function(){var a=$(this),c=a.attr("id"),c=$("<div></div>").attr("id",c+"-sticky-wrapper").addClass(b.wrapperClassName);a.wrapAll(c);b.center&&a.parent().css({width:a.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"==a.css("float")&&a.css({"float":"none"}).parent().css({"float":"right"});
c=a.parent();c.css("height",a.outerHeight());e.push({topSpacing:b.topSpacing,bottomSpacing:b.bottomSpacing,stickyElement:a,currentTop:null,stickyWrapper:c,className:b.className,getWidthFrom:b.getWidthFrom,responsiveWidth:b.responsiveWidth})})},update:c,unstick:function(a){return this.each(function(){for(var a=$(this),b=-1,c=0;c<e.length;c++)e[c].stickyElement.get(0)==a.get(0)&&(b=c);-1!=b&&(e.splice(b,1),a.unwrap(),a.removeAttr("style"))})}};a.addEventListener?(a.addEventListener("scroll",c,!1),a.addEventListener("resize",
b,!1)):a.attachEvent&&(a.attachEvent("onscroll",c),a.attachEvent("onresize",b));$.fn.sticky=function(a){if(k[a])return k[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)$.error("Method "+a+" does not exist on jQuery.sticky");else return k.init.apply(this,arguments)};$.fn.unstick=function(a){if(k[a])return k[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)$.error("Method "+a+" does not exist on jQuery.sticky");else return k.unstick.apply(this,
arguments)};$(function(){setTimeout(c,0)})}var n=!1;u()})(window);
